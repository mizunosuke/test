<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8">
    <title>練習用塾サイト</title>
    <meta name="description" content="塾サイトを模した練習用"> 
    <link rel="stylesheet" href="index.css">
    <link href="https://use.fontawesome.com/releases/v5.6.1/css/all.css" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-3.6.0.js"
    integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk="
    crossorigin="anonymous"></script>
  </head>

  <body>
    <div class="top-wrapper">
      <h1>Todoリスト</h1>
      <input type="text" class="ireru">
      <button class="btn">追加</button>
    </div>
    <div class="list-wrapper">
      <ul class="list">

      </ul>
    </div>
  <script>
    $(function(){
      var $input=$('.ireru');
      var $list=$('.list');
      var todolist = [];
      
      
      //ボタンをクリックするとリストが追加
      $('.btn').on('click',function(){
        event.preventDefault();
        
        //入力した内容を配列に追加
        todolist.push($input.val());
        //配列の値を順にli要素として表示
        var i = todolist.length-1;
        $list.append('<li>'+'<input type="checkbox">'+todolist[i]+'</li>');

        $input.val("");

        console.log(todolist);

      });
      
      $list.on('click',':checkbox',function(){
        $(this).parent('li').toggleClass('complete');

        if($(this).parent().hasClass('complete')){
          $(this).parent().css('text-decoration','line-through');
          $(this).parent().append('<button id="deleteTask">削除</button>');
        }else{
          $(this).parent().css('text-decoration','none');
          $(this).next('button').remove();
        }
      });


      $list.on('click','#deleteTask',function(){
        $(this).parent('li').remove();
      });
    });
  </script>  
  </body>

</html>
